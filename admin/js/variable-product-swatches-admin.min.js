!function(e){"use strict";e(document).ready((function(){e("body").on("click",".variable-product-swatches-image-field-wrapper .upload-image-button",(function(){var t=e(this).parents(".variable-product-swatches-image-field-wrapper"),i=void 0;if("undefined"!=typeof wp&&wp.media){if(i)return void i.open();(i=wp.media.frames.select_image=wp.media({title:_VPS.media_title,button:{text:_VPS.button_title},multiple:!1})).on("select",(function(){var a=i.state().get("selection").first().toJSON();if(""!==e.trim(a.id)){var r=void 0===a.sizes.thumbnail?a.sizes.full.url:a.sizes.thumbnail.url;e(t).find(".attachment-id").val(a.id),e(t).find(".image-preview img").attr("src",r),e(t).find(".remove-image-button").show()}})),i.on("open",(function(){var a=i.state().get("selection"),r=e(t).prev().val(),n=wp.media.attachment(r);n.fetch(),a.add(n?[n]:[])})),i.open()}})),e("body").on("click",".variable-product-swatches-image-field-wrapper .remove-image-button",(function(){var t=e(this).parents(".variable-product-swatches-image-field-wrapper");e(t).find(".attachment-id").val(""),e(t).find(".image-preview img").attr("src",_VPS.placeholder_img)}))}))}(jQuery);