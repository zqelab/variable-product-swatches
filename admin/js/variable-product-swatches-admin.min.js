!function(e){"use strict";e(document).ready((function(){e(".variable-product-swatches-image-field-wrapper").each((function(){var t=this;e(this).find(".upload-image-button").click((function(){var i=void 0;if("undefined"!=typeof wp&&wp.media&&wp.media.editor){if(i)return void i.open();(i=wp.media.frames.select_image=wp.media({title:_VPS.media_title,button:{text:_VPS.button_title},multiple:!1})).on("select",(function(){var a=i.state().get("selection").first().toJSON();if(""!==e.trim(a.id)){var n=void 0===a.sizes.thumbnail?a.sizes.full.url:a.sizes.thumbnail.url;e(t).find(".attachment-id").val(a.id),e(t).find(".image-preview img").attr("src",n),e(t).find(".remove-image-button").show()}})),i.on("open",(function(){var a=i.state().get("selection"),n=e(t).prev().val(),o=wp.media.attachment(n);o.fetch(),a.add(o?[o]:[])})),i.open()}})),e(this).find(".remove-image-button").click((function(){e(t).find(".attachment-id").val(""),e(t).find(".image-preview img").attr("src",_VPS.placeholder_img)}))}))}))}(jQuery);